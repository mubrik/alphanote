{% extends "base_template.html" %}
{% load static %}
{% load i18n %}

{% block innermain %}
<div class ="inner-main">

{% block body %}
  <div class="wrapper-base" style="height: calc(100vh - 69px);">
    <div class="profile-main">
      <div class="profile-card">
      {% if user.user_profile.profile_picture %}
        <img src="{{ user.user_profile.profile_picture.url }}" alt="" height="80px" width="80px">
      {% endif %}
        <p> Welcome {{ user.username }}</p>
        <small>{{ user.email }}</small>
      </div>
      <div class="profile-stats">
      <div class="card-mini">
        <span>{{ note_count }}</span>
        <p>Notes</p>
      </div>
      <div class="card-mini">
        <span>{{ notebook_count }}</span>
        <p>NoteBooks</p>
      </div>
      </div>
      <div class="profile-form">
      {% block extendform %}
        <p> Update Your Profile </p>
        <form enctype="multipart/form-data" method='POST' class="profileForm">
          {% csrf_token %}
          {% for hidden in form.hidden_fields %}
          {{ hidden }}
          {% endfor %}
          <div class="input-group">
            <div class="input-set">
              {{ form.birth_date.errors }}
              <label class="input-set__label">Birth Date:</label>
              <div class="input-set__file">
              {{ form.birth_date }}
              </div>
            </div>
          {{ form.profile_picture }}
          {{ form.profile_picture.errors }}
          </div>
          <button class="bttn--base" type="submit">Update Profile</button>
        </form>
      {% endblock extendform %}
      </div>
      <div class="profile-extras">
        {% block extras %}
        <a class="bttn--base" href="{% url 'account_email' %}" >{% trans "Update Email" %}</a>
        <a class="bttn--base" href="{% url 'account_change_password' %}">{% trans "Update Password" %}</a>
        <a href="#" class="bttn--base modal-trigger account-trigger" data-target="account-modal" data-url="{% url 'ajax_password_reset' %}" data-bs="password-reset">{% trans "Reset Password" %}</a>
        {% endblock extras %}
      </div>
    </div>
  </div>
{% endblock body %}

</div>
{% endblock innermain %}